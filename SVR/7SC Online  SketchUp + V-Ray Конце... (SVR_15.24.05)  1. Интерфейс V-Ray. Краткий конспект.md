## Интерфейс V-Ray  

### Палетка V-Ray for SкetchUp

Здесь собраны основные настройки рендера:

![](/img/SVR_15/1686160665_1637001164_17.png#bordered)

1. _Asset Editor_ — инструмент для настройки всех параметров рендера: материалов, освещения, эффектов атмосферы.
2. _Chaos Cosmos_ — библиотека материалов и объектов внутри V-Ray.
3. _Render_ — запуск рендера, _Render Interactive_ — рендер в режиме реального времени, _Render Cloud_ — рендеринг + сохранение изображений в облако, _Render Vision_ — рендеринг видео (аналог Lumion).
4. _Render Viewport_ — превращение вьюпорта в окно рендера, Viewport Render Region — рендеринг фрагмента или области.
5. _Frame Buffer_ — основное окно работы с рендером, в котором появляется изображение. В этом окне есть дополнительные настройки для постобработки рендера.
6. _Batch Render_ — серийный рендер: полезен, когда нужно отрендерить несколько кадров подряд.
7. _Chaos Cloud Batch Render_ — серийный рендер с сохранением в облако.
8. _Lock Camera Orientation_ — блокировка рендера: полезнaя опция, чтобы внести изменения в сцену и запустить рендер снова с того же места.

### Палетка V-Ray Light

Здесь собраны разные типы источников света.

![](/img/SVR_15/1686160694_2.png#bordered)

1. _Light Gen_ — рандомайзер света. Генерирует случайные типы освещения внутри сцены и создаёт различные эффекты без установки фактических светильников.
2. _Rectangle Light_, _Sphere Light_, _Spot Light_, _Ies Light_, _Omni Light_, _Dome Light_ — разные виды светильников, отличающиеся рисунком света. Подробнее мы разберём их на последнем занятии.
3. _Сonvert to Mesh Light_ — команда для превращения любого объекта в светящийся предмет.

### Палетка V-Ray Object

Здесь собраны инструменты для работы с необычными объектами и их свойствами.

![](https://study.softculture.cc/img/SVR_15/1686160725_3.png#bordered)

1. _Infinite Plane_ — инструмент для создания бесконечной плоскости.
2. _Export / Import Proxy_ — инструмент, позволяющий вставлять в сцену не фактические объекты, а ссылки на них, чтобы не увеличивать вес модели.
3. _Add Fur for Selection_ — инструмент для создания меха, травы, ворса.
4. _Convert to Clipper_ — инструмент для создания разреза. Позволяет отрендерить не целую модель, а нужный фрагмент.
5. _Add Displacement to Selection_ — инструмент для работы с выпуклостями и полостями (например, для проработки горных пород).

### Палетка V-Ray Utilities

Здесь собраны инструменты для работы с текстурами и управления объектами V-Ray.

![](/img/SVR_15/1686160759_4.png#bordered)

1. _Hide Enable Solid Widgets_ — команда, которая позволяет скрывать / показывать объекты V-Ray (например, светильники).
2. Инструменты, которые отвечают за наложение текстур на объекты разных форм — _Remove Materials_ — удаление материалов, _3-Planar Projection (World)_ и _3-Planar Projection (Fit)_ — проецирование на кубические объекты, _Spherical Projection (World)_ и _Spherical Projection (Fit)_ — проецирование на сферические объекты, _Scene Interaction Tool_ — иерархия материалов в модели.

### Asset Editor

Разберём инструмент подробнее.

![](/img/SVR_15/1686160782_5.png#bordered)

Интерфейс _V-Ray Asset Editor_ делится на три части:

1. Верхняя часть — переключение между настройками рендера.
2. Центральная часть со списком объектов V-Ray, с которыми вы работаете.
3. Нижняя часть с основными командами.
4. Списки с дополнительными настройками, которые раскрываются вправо и влево:

    - правая часть — дополнительные настройки материалов, источников света и т.д.
    - левая часть — библиотека материалов.

Блоки с настройками в верхней части _V-Ray Asset Editor_:

1. _Materials_
2. _Lights_
3. _Geometry_
4. _Render Elements_
5. _Textures_
6. _Settings_
7. _Render_
8. _Frame Buffer_

![](/img/SVR_15/1686160826_6.jpg#bordered)

### Блок Settings

![](/img/SVR_15/1686160855_7.png#bordered)

Вкладка _Render_:

1. _Engine_ — параметр, который регулирует способ рендеринга, который использует компьютер: через процессор/через процессор и видеокарту/только через видеокарту. По опыту наших преподавателей рендер на видеокарте работает корректно только картами типа с NVIDIA RTX.
2. _Interactive_ — активация интерактивного рендера.
3. _Progressive_ — параметр, который отвечает за разные способы рендеринга: когда выключен, немного экономит время рендера. Рекомендуем не отключать этот параметр - экономия времени незначительная, однако вы можете потерять в качестве.
4. _Quality_ — качество рендера. Чтобы понять, как оно устроено, разверните правое крыло настроек. По сути Quality отвечает за количество шума в рендера и почти рано параметру noise limit. Если развернуть правое крыло с настройками, можно увидеть прямую зависимость этих параметров при изменении режимов.
5. _Denoiser_ + _Update Effects_ — инструменты, которые исправляют шум в картинке, не повышая время рендера.
6. _Render Output_ — настройка разрешения и пропорций изображения.
7. _Environment_ — настройка глобальных свойств среды: отражение света, цвет неба, туман.
8. _Material Override_ — переопределение всех материалов в заданный цвет.

    Каждый блок имеет собственный раскрывающийся список справа: в нём находятся более детальные настройки. Левый блок содержит только библиотеку материалов.

== Для пробных рендеров не забывайте выставлять низкие значения разрешения и качества==.

### Интерфейс Frame Buffer

Основное окно рендера, в котором появляется и дорабатывается изображение.

![](/img/SVR_15/1686160887_8.png#bordered)

Окно также имеет трёхчастную структуру:

1. Изображение в центре.
2. Блок _History_, необходимый для сохранения и сравнения разных стадий рендера (слева).
3. Встроенный мини-редактор для постобработки слоёв изображения (справа).

Сразу после установки V-Ray панель _History_ нужно активировать:

_Options_ → _Vfb Settings_ → _History_ → _Enabled_.

### Белый рендер. Работа со светом

По умолчанию внутри SketchUp есть солнце, которое появляется, когда вы открываете программу. Включить тени в рабочем окне можно через вкладку _Shadows_ в _Tray_. Там же можно настроить часовой пояс.

Также свет можно настраивать в настройках рендера.

![](/img/SVR_15/1686160921_9.jpg#bordered)

В настройках рендера солнце находится в _Asset Editor_ → _Lights_ → _Sunlight_ и содержит следующие настройки:

1. _Custom Orientation_ — ориентация солнца.
2. _Color and Intensity_ — цвет и интенсивность солнца.
3. _Sky_ — настройки неба.
4. _Ground Albedo_ — настройки земли.

_Color and Intensity_ обладает следующими настройками:

- _Color_ — цвет солнца.
- _Color Mode_ — влияние и взаимодействие цвета с солнцем.

    Режимы _Color Mode_: _Filter_, _Direct_ и _Override_. _Filter_ придает оттенок в зависимости от выставленного времени, это имитация реальных условий освещения солнцем различных частей Земли. _Direct_ — режим, при котором цвет солнца соответствует цвету в _Filter Color_. Интенсивность света больше не зависит от положения солнца, а контролируется параметром _Intensity Multiplier_. _Override_ — цвет солнца соответствует цвету в _Filter Color_. Интенсивность зависит от положения солнца.

- _Intensity Multiplier_ — усиление яркости солнца.
- _Size Multiplier_ — позволяет добавить мягкую растушевку теней. Рекомендуем для имитации реальных условий выставлять значение `3-8`.

Что такое HDRI карта?

**HDRI карта** — это преднастроенная сцена, которая трансформирована в сферу и может подгружаться в любую пустую сцену, создавая там эффекты среды: отражения в окнах, деревья, небо, блики, задник изображения и т.п.

Помимо HDRI-карты можно использовать _Light Gen_ — генератор случайного окружения и света, который на основе карты может создавать её вариации, опираясь на разные параметры:

- _Unique Styles_ — количество карт.
- _Variations_ — количество поворотов карты.

![](/img/SVR_15/1686160972_10.jpg#bordered)

Карта подгружается в сцену через _Dome Light_ — светильник, который превращает сцену в сферу и позволяет натягивать на неё свою HDRI-карту.

Загрузить карту:

_Asset Editor_ → _Lights_ → _Dome Light_ → _Color Texture HDRY_ → _Texture Slot_ → _Bitmap_ → выбрать карту → активировать _Color Texture HDRI_.
